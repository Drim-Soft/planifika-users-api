spring.application.name=planifikausersapi

# ===============================
# Server Configuration
# ===============================
server.port=${SERVER_PORT:8080}
server.servlet.context-path=${SERVER_SERVLET_CONTEXT_PATH:/api/v1}

# ===============================
# DATABASE - Supabase PostgreSQL
# ===============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect


spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.datasource.hikari.data-source-properties.prepareThreshold=0

# ===============================
# Supabase API (para consumo externo)
# ===============================
supabase.url=${SUPABASE_URL}
supabase.anon.key=${SUPABASE_ANON_KEY}
supabase.service.key=${SUPABASE_SERVICE_KEY}
supabase.jwt.secret=${SUPABASE_JWT_SECRET}

# ===============================
# Supabase API SIU(para consumo externo)
# ===============================
supabase.url.siu=${SUPABASE_URL_SIU}
supabase.anon.key.siu=${SUPABASE_ANON_KEY_SIU}

# ===============================
# General Configuration
# ===============================
spring.docker.compose.enabled=false
spring.config.import=optional:file:.env[.properties]

# ===============================
# Prometheus Configuration
# ===============================
# Exponer el endpoint de Prometheus
management.endpoints.web.exposure.include=prometheus

# Habilitar la exportación de métricas a Prometheus
management.metrics.export.prometheus.enabled=true

# Configuración de Actuator (opcional)
management.endpoints.web.base-path=/actuator

# Habilitar Actuator para monitorizar el estado del servicio
management.endpoint.health.show-details=always